{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/Node-backend/frontend-1/src/JobsComponents/JobsList.jsx\";\nimport React, { Component } from \"react\";\nimport JCards from \"./JobsCards\";\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\nimport Autosuggest from \"react-autosuggest\";\nimport Fade from \"react-reveal/Fade\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./jobs.css\";\nimport Slide from \"react-reveal/Slide\";\nimport { Col, Row, Container, Button } from \"react-bootstrap\";\nimport { Slider, Rail, Handles, Tracks, Ticks } from \"react-compound-slider\";\nimport { SliderRail, Handle, Track, Tick } from \"./SliderComponent\";\nimport Jobs from \"../Images/jobs.png\";\nimport jwt_decode from \"jwt-decode\";\nimport Axios from \"axios\";\nimport { localhost } from \"../GlobalVars\";\nexport default class JobsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      Axios.get(`${localhost}/job`).then(j => {\n        if (j.data.length > 0) {\n          var technologies = [];\n          j.data.forEach(item => {\n            item.technologies.map(tech => {\n              if (!technologies.includes(tech)) {\n                technologies.push(tech);\n              }\n            });\n          });\n          var max_val = Math.max.apply(Math, j.data.map(item => {\n            return item.budget;\n          }));\n          var maxNum = this.maxDigit(max_val);\n          var domain = [0, maxNum];\n          const defaultValues = [0, maxNum];\n          this.setState({\n            tech: technologies,\n            sliderHandlesVal: defaultValues,\n            domain: domain,\n            jobs: j.data,\n            jobFilter: j.data\n          });\n        }\n      }).catch(err => console.log(err));\n    };\n\n    this.onChangeInput = (event, {\n      newValue\n    }) => {\n      this.setState({\n        value: newValue,\n        todo: newValue\n      });\n    };\n\n    this.onSuggestionsFetchRequested = ({\n      value\n    }) => {\n      this.setState({\n        suggestions: this.getSuggestions(value)\n      });\n    };\n\n    this.onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n\n    this.getSuggestions = value => {\n      const inputValue = value.trim().toLowerCase();\n      const inputLength = inputValue.length;\n      return inputLength === 0 ? [] : this.state.tech.filter(tech => tech.toLowerCase().slice(0, inputLength) === inputValue);\n    };\n\n    this.getSuggestionValue = suggestion => suggestion;\n\n    this.renderSuggestion = suggestion => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, suggestion);\n\n    this.add = async event => {\n      event.preventDefault();\n      await this.setState({\n        id: this.state.id + 1,\n        todos: [...this.state.todos, {\n          id: this.state.id,\n          text: this.state.todo || \"-\"\n        }],\n        todo: \"\"\n      });\n      var filteredJobs = [];\n      this.state.jobs.forEach(item => {\n        this.state.todos.some(val => {\n          if (item.technologies.indexOf(val.text) !== -1) {\n            if (!filteredJobs.includes(item)) {\n              filteredJobs.push(item);\n            }\n          }\n        });\n      });\n\n      if (this.state.jobBudgets.length > 0) {\n        if (this.state.jobBudgets !== this.state.jobs) filteredJobs = filteredJobs.filter(value => this.state.jobBudgets.includes(value));\n      }\n\n      this.setState({\n        jobFilter: filteredJobs,\n        jobSkill: filteredJobs\n      });\n    };\n\n    this.remove = async event => {\n      await this.setState({\n        todos: this.state.todos.filter(item => item.id !== +event.currentTarget.getAttribute(\"data-id\"))\n      });\n\n      if (this.state.todos.length > 0) {\n        var filteredJobs = [];\n        this.state.jobs.forEach(item => {\n          this.state.todos.some(val => {\n            if (item.technologies.indexOf(val.text) !== -1) {\n              if (!filteredJobs.includes(item)) {\n                filteredJobs.push(item);\n              }\n            }\n          });\n        });\n        this.setState({\n          jobFilter: filteredJobs\n        });\n      } else {\n        this.setState({\n          jobFilter: this.state.jobs\n        });\n      }\n    };\n\n    this.pad = (n, width, z) => {\n      z = z || \"0\";\n      n = n + \"\";\n      return n.length >= width ? n : n + new Array(width - n.length + 1).join(z);\n    };\n\n    this.maxDigit = maxNum => {\n      var digits = maxNum.toString().length;\n      var divideBy = this.pad(1, digits);\n\n      if (maxNum % divideBy != 0) {\n        var roundedNum = Math.floor(maxNum / divideBy + 1) * divideBy;\n        return roundedNum;\n      } else {\n        return maxNum;\n      }\n    };\n\n    this.onChange = val => {\n      this.setState({\n        sliderHandlesVal: val\n      });\n      var temp = this.state.jobs.filter(item => {\n        if (val[0] <= item.budget && item.budget <= val[1]) {\n          return item;\n        }\n      });\n\n      if (this.state.jobSkill.length > 0) {\n        temp = temp.filter(value => this.state.jobSkill.includes(value));\n      }\n\n      this.setState({\n        jobFilter: temp,\n        jobBudgets: temp\n      });\n    };\n\n    this.showDetails = item => {\n      var showColContent = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, item.title);\n      this.setState({\n        showColContent,\n        showCol: true,\n        currentJob: item\n      });\n    };\n\n    this.applyForJob = () => {\n      Axios.put(`${localhost}/job/addreq/${this.state.currentJob._id}`, {\n        requests: this.state.userID\n      }).then(result => {\n        alert(result.data);\n        window.location.reload();\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      userID: localStorage.usertoken ? jwt_decode(localStorage.usertoken).user._id : null,\n      userRole: localStorage.usertoken ? jwt_decode(localStorage.usertoken).user.role : null,\n      showColContent: null,\n      showCol: false,\n      currentJob: null,\n      jobBudgets: [],\n      jobSkill: [],\n      domain: [],\n      jobs: [],\n      jobFilter: [],\n      sliderHandlesVal: [],\n      tech: [],\n      value: \"\",\n      suggestions: [],\n      todo: \"\",\n      todos: [].map((text, id) => ({\n        id,\n        text\n      }))\n    };\n    this.state.id = this.state.todos.length;\n  }\n\n  render() {\n    const _this$state = this.state,\n          value = _this$state.value,\n          suggestions = _this$state.suggestions; // Autosuggest will pass through all these props to the input.\n\n    const inputProps = {\n      placeholder: \"Type a programming language\",\n      value,\n      onChange: this.onChangeInput\n    };\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(Slide, {\n      top: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"textBackground\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Careers\"), React.createElement(\"div\", {\n      className: \"textCareer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Toptal is a marketplace for top developers, engineers, programmers, coders, architects, and consultants. Top companies and start-ups hire freelance developers from Toptal for their most mission-critical projects. When you join The DDW Company, you are choosing to be a part of something far bigger than you can even imagine. TRSDC is pioneering the future of sustainable tourism, creating a new standard of sustainable luxury tourism and immersive experiences.\")))), React.createElement(\"div\", {\n      className: \"arroww\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"arrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }))), React.createElement(\"img\", {\n      className: \"imgBackground\",\n      style: {\n        height: \"100%\",\n        width: \"100%\"\n      },\n      src: Jobs,\n      alt: \"Portfolio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }), this.state.jobs.length > 0 && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 3,\n      className: \"filterStyle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"Budget\"), this.state.sliderHandlesVal.length !== 0 && this.state.domain !== 0 && React.createElement(Slider, {\n      mode: 2,\n      step: 1,\n      domain: this.state.domain,\n      rootStyle: {\n        position: \"relative\",\n        width: \"100%\"\n      },\n      onUpdate: this.onUpdate,\n      onChange: this.onChange,\n      values: this.state.sliderHandlesVal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(Rail, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, ({\n      getRailProps\n    }) => React.createElement(SliderRail, {\n      getRailProps: getRailProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), React.createElement(Handles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, ({\n      handles,\n      getHandleProps\n    }) => React.createElement(\"div\", {\n      className: \"slider-handles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, handles.map(handle => React.createElement(Handle, {\n      key: handle.id,\n      handle: handle,\n      domain: this.state.domain,\n      getHandleProps: getHandleProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    })))), React.createElement(Tracks, {\n      left: false,\n      right: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, ({\n      tracks,\n      getTrackProps\n    }) => React.createElement(\"div\", {\n      className: \"slider-tracks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, tracks.map(({\n      id,\n      source,\n      target\n    }) => React.createElement(Track, {\n      key: id,\n      source: source,\n      target: target,\n      getTrackProps: getTrackProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    })))), React.createElement(Ticks, {\n      count: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, ({\n      ticks\n    }) => React.createElement(\"div\", {\n      className: \"slider-ticks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, ticks.map(tick => React.createElement(Tick, {\n      key: tick.id,\n      tick: tick,\n      count: ticks.length,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \"Skills\"), this.state.tech.length > 0 && React.createElement(\"form\", {\n      onSubmit: this.add,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(TransitionGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, this.state.todos.map(item => React.createElement(Fade, {\n      key: item.id,\n      collapse: true,\n      bottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, item.text, React.createElement(\"button\", {\n      \"data-id\": item.id,\n      onClick: this.remove,\n      type: \"button\",\n      className: \"close\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \"\\xD7\")))))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, React.createElement(Autosuggest, {\n      style: {\n        background: \"red\"\n      },\n      type: \"text\",\n      id: \"todoField\",\n      name: \"todo\",\n      suggestions: suggestions,\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n      onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n      getSuggestionValue: this.getSuggestionValue,\n      renderSuggestion: this.renderSuggestion,\n      inputProps: inputProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append buttonThing \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.add,\n      className: \"btn btn-light\",\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, \" \", \"Add Item\"))))), React.createElement(Col, {\n      className: \"cardJob\",\n      md: this.state.showCol ? 5 : 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, this.state.jobFilter.map(item => {\n      return React.createElement(JCards, {\n        data: item,\n        showDetails: this.showDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      });\n    })), this.state.showCol !== false && this.state.currentJob != null && React.createElement(Col, {\n      md: 3,\n      className: \"applyCard\",\n      style: {\n        height: \"30%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398\n      },\n      __self: this\n    }, React.createElement(Fade, {\n      left: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, this.state.currentJob.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, this.state.currentJob.descreption), this.state.currentJob.budget, this.state.currentJob.technologies.forEach(item => React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, item)), this.state.userRole == 1 && this.state.currentJob.dev_id != this.state.userID && !this.state.currentJob.requests.includes(this.state.userID) && React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.applyForJob,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, \"Apply\"), this.state.userRole == 1 && this.state.currentJob.requests && this.state.currentJob.requests.includes(this.state.userID) && React.createElement(Button, {\n      variant: \"primary\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }, \"Already applied\"), this.state.currentJob.dev_id == this.state.userID && React.createElement(Button, {\n      variant: \"primary\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429\n      },\n      __self: this\n    }, \"Already applied\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/macbook/Desktop/Node-backend/frontend-1/src/JobsComponents/JobsList.jsx"],"names":["React","Component","JCards","TransitionGroup","Autosuggest","Fade","Slide","Col","Row","Container","Button","Slider","Rail","Handles","Tracks","Ticks","SliderRail","Handle","Track","Tick","Jobs","jwt_decode","Axios","localhost","JobsList","constructor","props","componentDidMount","get","then","j","data","length","technologies","forEach","item","map","tech","includes","push","max_val","Math","max","apply","budget","maxNum","maxDigit","domain","defaultValues","setState","sliderHandlesVal","jobs","jobFilter","catch","err","console","log","onChangeInput","event","newValue","value","todo","onSuggestionsFetchRequested","suggestions","getSuggestions","onSuggestionsClearRequested","inputValue","trim","toLowerCase","inputLength","state","filter","slice","getSuggestionValue","suggestion","renderSuggestion","add","preventDefault","id","todos","text","filteredJobs","some","val","indexOf","jobBudgets","jobSkill","remove","currentTarget","getAttribute","pad","n","width","z","Array","join","digits","toString","divideBy","roundedNum","floor","onChange","temp","showDetails","showColContent","title","showCol","currentJob","applyForJob","put","_id","requests","userID","result","alert","window","location","reload","localStorage","usertoken","user","userRole","role","render","inputProps","placeholder","height","position","onUpdate","getRailProps","handles","getHandleProps","handle","tracks","getTrackProps","source","target","ticks","tick","background","descreption","dev_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport JCards from \"./JobsCards\";\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\nimport Autosuggest from \"react-autosuggest\";\nimport Fade from \"react-reveal/Fade\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./jobs.css\";\nimport Slide from \"react-reveal/Slide\";\nimport { Col, Row, Container, Button } from \"react-bootstrap\";\nimport { Slider, Rail, Handles, Tracks, Ticks } from \"react-compound-slider\";\nimport { SliderRail, Handle, Track, Tick } from \"./SliderComponent\";\nimport Jobs from \"../Images/jobs.png\";\nimport jwt_decode from \"jwt-decode\";\nimport Axios from \"axios\";\nimport { localhost } from \"../GlobalVars\";\n\nexport default class JobsList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userID: localStorage.usertoken\n        ? jwt_decode(localStorage.usertoken).user._id\n        : null,\n      userRole: localStorage.usertoken\n        ? jwt_decode(localStorage.usertoken).user.role\n        : null,\n      showColContent: null,\n      showCol: false,\n      currentJob: null,\n      jobBudgets: [],\n      jobSkill: [],\n      domain: [],\n      jobs: [],\n      jobFilter: [],\n      sliderHandlesVal: [],\n      tech: [],\n      value: \"\",\n      suggestions: [],\n      todo: \"\",\n      todos: [].map((text, id) => ({ id, text }))\n    };\n    this.state.id = this.state.todos.length;\n  }\n\n  componentDidMount = () => {\n    Axios.get(`${localhost}/job`)\n      .then(j => {\n        if (j.data.length > 0) {\n          var technologies = [];\n\n          j.data.forEach(item => {\n            item.technologies.map(tech => {\n              if (!technologies.includes(tech)) {\n                technologies.push(tech);\n              }\n            });\n          });\n\n          var max_val = Math.max.apply(\n            Math,\n            j.data.map(item => {\n              return item.budget;\n            })\n          );\n          var maxNum = this.maxDigit(max_val);\n          var domain = [0, maxNum];\n\n          const defaultValues = [0, maxNum];\n\n          this.setState({\n            tech: technologies,\n            sliderHandlesVal: defaultValues,\n            domain: domain,\n            jobs: j.data,\n            jobFilter: j.data\n          });\n        }\n      })\n      .catch(err => console.log(err));\n  };\n\n  //auto suggestion + filtering functions\n  onChangeInput = (event, { newValue }) => {\n    this.setState({ value: newValue, todo: newValue });\n  };\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState({ suggestions: this.getSuggestions(value) });\n  };\n\n  onSuggestionsClearRequested = () => {\n    this.setState({ suggestions: [] });\n  };\n\n  getSuggestions = value => {\n    const inputValue = value.trim().toLowerCase();\n    const inputLength = inputValue.length;\n\n    return inputLength === 0\n      ? []\n      : this.state.tech.filter(\n          tech => tech.toLowerCase().slice(0, inputLength) === inputValue\n        );\n  };\n\n  getSuggestionValue = suggestion => suggestion;\n\n  renderSuggestion = suggestion => <div>{suggestion}</div>;\n\n  add = async event => {\n    event.preventDefault();\n    await this.setState({\n      id: this.state.id + 1,\n      todos: [\n        ...this.state.todos,\n        { id: this.state.id, text: this.state.todo || \"-\" }\n      ],\n      todo: \"\"\n    });\n\n    var filteredJobs = [];\n    this.state.jobs.forEach(item => {\n      this.state.todos.some(val => {\n        if (item.technologies.indexOf(val.text) !== -1) {\n          if (!filteredJobs.includes(item)) {\n            filteredJobs.push(item);\n          }\n        }\n      });\n    });\n\n    if (this.state.jobBudgets.length > 0) {\n      if (this.state.jobBudgets !== this.state.jobs)\n        filteredJobs = filteredJobs.filter(value =>\n          this.state.jobBudgets.includes(value)\n        );\n    }\n    this.setState({ jobFilter: filteredJobs, jobSkill: filteredJobs });\n  };\n\n  remove = async event => {\n    await this.setState({\n      todos: this.state.todos.filter(\n        item => item.id !== +event.currentTarget.getAttribute(\"data-id\")\n      )\n    });\n\n    if (this.state.todos.length > 0) {\n      var filteredJobs = [];\n      this.state.jobs.forEach(item => {\n        this.state.todos.some(val => {\n          if (item.technologies.indexOf(val.text) !== -1) {\n            if (!filteredJobs.includes(item)) {\n              filteredJobs.push(item);\n            }\n          }\n        });\n      });\n      this.setState({ jobFilter: filteredJobs });\n    } else {\n      this.setState({ jobFilter: this.state.jobs });\n    }\n  };\n\n  //slider range functions\n  pad = (n, width, z) => {\n    z = z || \"0\";\n    n = n + \"\";\n    return n.length >= width ? n : n + new Array(width - n.length + 1).join(z);\n  };\n\n  maxDigit = maxNum => {\n    var digits = maxNum.toString().length;\n    var divideBy = this.pad(1, digits);\n\n    if (maxNum % divideBy != 0) {\n      var roundedNum = Math.floor(maxNum / divideBy + 1) * divideBy;\n      return roundedNum;\n    } else {\n      return maxNum;\n    }\n  };\n\n  onChange = val => {\n    this.setState({ sliderHandlesVal: val });\n    var temp = this.state.jobs.filter(item => {\n      if (val[0] <= item.budget && item.budget <= val[1]) {\n        return item;\n      }\n    });\n\n    if (this.state.jobSkill.length > 0) {\n      temp = temp.filter(value => this.state.jobSkill.includes(value));\n    }\n\n    this.setState({ jobFilter: temp, jobBudgets: temp });\n  };\n\n  ///show the details column\n  showDetails = item => {\n    var showColContent = <p>{item.title}</p>;\n    this.setState({ showColContent, showCol: true, currentJob: item });\n  };\n\n  //apply for the job\n  applyForJob = () => {\n    Axios.put(`${localhost}/job/addreq/${this.state.currentJob._id}`, {\n      requests: this.state.userID\n    })\n      .then(result => {\n        alert(result.data);\n\n        window.location.reload();\n      })\n      .catch(err => console.log(err));\n  };\n\n  render() {\n    const { value, suggestions } = this.state;\n\n    // Autosuggest will pass through all these props to the input.\n    const inputProps = {\n      placeholder: \"Type a programming language\",\n      value,\n      onChange: this.onChangeInput\n    };\n\n    return (\n      <Container>\n        <div>\n          <Slide top>\n            <h1 className=\"textBackground\">Careers</h1>\n            <div className=\"textCareer\">\n              <p>\n                Toptal is a marketplace for top developers, engineers,\n                programmers, coders, architects, and consultants. Top companies\n                and start-ups hire freelance developers from Toptal for their\n                most mission-critical projects. When you join The DDW Company,\n                you are choosing to be a part of something far bigger than you\n                can even imagine. TRSDC is pioneering the future of sustainable\n                tourism, creating a new standard of sustainable luxury tourism\n                and immersive experiences.\n              </p>\n            </div>\n          </Slide>\n        </div>\n\n        <div className=\"arroww\">\n          <div className=\"arrow\">\n            <span></span>\n            <span></span>\n          </div>\n        </div>\n\n        <img\n          className=\"imgBackground\"\n          style={{ height: \"100%\", width: \"100%\" }}\n          src={Jobs}\n          alt=\"Portfolio\"\n        />\n\n        {this.state.jobs.length > 0 && (\n          <Row>\n            <Col md={3} className=\"filterStyle\">\n              <br />\n              <h4>Budget</h4>\n\n              {this.state.sliderHandlesVal.length !== 0 &&\n                this.state.domain !== 0 && (\n                  <Slider\n                    mode={2}\n                    step={1}\n                    domain={this.state.domain}\n                    rootStyle={{\n                      position: \"relative\",\n                      width: \"100%\"\n                    }}\n                    onUpdate={this.onUpdate}\n                    onChange={this.onChange}\n                    values={this.state.sliderHandlesVal}\n                  >\n                    <Rail>\n                      {({ getRailProps }) => (\n                        <SliderRail getRailProps={getRailProps} />\n                      )}\n                    </Rail>\n                    <Handles>\n                      {({ handles, getHandleProps }) => (\n                        <div className=\"slider-handles\">\n                          {handles.map(handle => (\n                            <Handle\n                              key={handle.id}\n                              handle={handle}\n                              domain={this.state.domain}\n                              getHandleProps={getHandleProps}\n                            />\n                          ))}\n                        </div>\n                      )}\n                    </Handles>\n                    <Tracks left={false} right={false}>\n                      {({ tracks, getTrackProps }) => (\n                        <div className=\"slider-tracks\">\n                          {tracks.map(({ id, source, target }) => (\n                            <Track\n                              key={id}\n                              source={source}\n                              target={target}\n                              getTrackProps={getTrackProps}\n                            />\n                          ))}\n                        </div>\n                      )}\n                    </Tracks>\n                    <Ticks count={5}>\n                      {({ ticks }) => (\n                        <div className=\"slider-ticks\">\n                          {ticks.map(tick => (\n                            <Tick\n                              key={tick.id}\n                              tick={tick}\n                              count={ticks.length}\n                            />\n                          ))}\n                        </div>\n                      )}\n                    </Ticks>\n                  </Slider>\n                )}\n              <br />\n              <br />\n\n              <h4>Skills</h4>\n              {this.state.tech.length > 0 && (\n                <form onSubmit={this.add} autoComplete=\"off\">\n                  <div className=\"col-12 mb-2\">\n                    <TransitionGroup>\n                      {this.state.todos.map(item => (\n                        <Fade key={item.id} collapse bottom>\n                          <div className=\"card\">\n                            <div className=\"card-body justify-content-between\">\n                              {item.text}\n                              <button\n                                data-id={item.id}\n                                onClick={this.remove}\n                                type=\"button\"\n                                className=\"close\"\n                                aria-label=\"Close\"\n                              >\n                                <span aria-hidden=\"true\">&times;</span>\n                              </button>\n                            </div>\n                          </div>\n                        </Fade>\n                      ))}\n                    </TransitionGroup>\n                  </div>\n                  <Row>\n                    <Autosuggest\n                      style={{ background: \"red\" }}\n                      type=\"text\"\n                      id=\"todoField\"\n                      name=\"todo\"\n                      suggestions={suggestions}\n                      onSuggestionsFetchRequested={\n                        this.onSuggestionsFetchRequested\n                      }\n                      onSuggestionsClearRequested={\n                        this.onSuggestionsClearRequested\n                      }\n                      getSuggestionValue={this.getSuggestionValue}\n                      renderSuggestion={this.renderSuggestion}\n                      inputProps={inputProps}\n                    />\n\n                    <div className=\"input-group-append buttonThing \">\n                      <button\n                        onClick={this.add}\n                        className=\"btn btn-light\"\n                        type=\"button\"\n                      >\n                        {\" \"}\n                        Add Item\n                      </button>\n                    </div>\n                  </Row>\n                </form>\n              )}\n            </Col>\n\n            <Col className=\"cardJob\" md={this.state.showCol ? 5 : 7}>\n              {this.state.jobFilter.map(item => {\n                return <JCards data={item} showDetails={this.showDetails} />;\n              })}\n            </Col>\n\n            {this.state.showCol !== false && this.state.currentJob != null && (\n              <Col md={3} className=\"applyCard\" style={{ height: \"30%\" }}>\n                <Fade left>\n                  <div>\n                    <p>{this.state.currentJob.title}</p>\n                    <p>{this.state.currentJob.descreption}</p>\n                    {this.state.currentJob.budget}\n                    {this.state.currentJob.technologies.forEach(item => (\n                      <p>{item}</p>\n                    ))}\n\n                    {this.state.userRole == 1 &&\n                      this.state.currentJob.dev_id != this.state.userID &&\n                      !this.state.currentJob.requests.includes(\n                        this.state.userID\n                      ) && (\n                        <Button variant=\"primary\" onClick={this.applyForJob}>\n                          Apply\n                        </Button>\n                      )}\n\n                    {this.state.userRole == 1 &&\n                      this.state.currentJob.requests &&\n                      this.state.currentJob.requests.includes(\n                        this.state.userID\n                      ) && (\n                        <Button variant=\"primary\" disabled>\n                          Already applied\n                        </Button>\n                      )}\n\n                    {this.state.currentJob.dev_id == this.state.userID && (\n                      <Button variant=\"primary\" disabled>\n                        Already applied\n                      </Button>\n                    )}\n                  </div>\n                </Fade>\n              </Col>\n            )}\n          </Row>\n        )}\n      </Container>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}