{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/frontend-1/src/JobsComponents/JobsList.jsx\";\nimport React, { Component } from 'react';\nimport JCards from \"./JobsCards\";\nimport TransitionGroup from 'react-transition-group/TransitionGroup';\nimport Autosuggest from 'react-autosuggest';\nimport Fade from 'react-reveal/Fade';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './jobs.css';\nimport Slide from 'react-reveal/Slide';\nimport { Col, Row, Container, Button } from 'react-bootstrap';\nimport { Slider, Rail, Handles, Tracks, Ticks } from \"react-compound-slider\";\nimport { SliderRail, Handle, Track, Tick } from \"./SliderComponent\";\nimport Jobs from \"../Images/jobs.png\";\nimport jwt_decode from 'jwt-decode';\nimport Axios from 'axios';\nimport { localhost } from \"../GlobalVars\";\nexport default class JobsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      Axios.get(`${localhost}/job`).then(j => {\n        console.log(\"JOBSSS DATA\");\n        console.log(j.data);\n\n        if (j.data.length > 0) {\n          var technologies = [];\n          j.data.forEach(item => {\n            console.log(item);\n            item.technologies.map(tech => {\n              if (!technologies.includes(tech)) {\n                technologies.push(tech);\n              }\n            });\n          });\n          var max_val = Math.max.apply(Math, j.data.map(item => {\n            return item.budget;\n          })); // var max_val = Math.max(5, 10, 20, 1100) //Math.max(...this.state.budgets)\n\n          var maxNum = this.maxDigit(max_val);\n          var domain = [0, maxNum];\n          const defaultValues = [0, maxNum]; // var userID = \"\"\n          // var userRole = \"\"\n          // if(localStorage.usertoken){\n          //     userID = jwt_decode(localStorage.usertoken).user._id\n          //     userRole = jwt_decode(localStorage.usertoken).user.role\n          // }\n          // console.log(localStorage.usertoken)\n          // userRole:userRole,userID:userID,\n\n          this.setState({\n            tech: technologies,\n            sliderHandlesVal: defaultValues,\n            domain: domain,\n            jobs: j.data,\n            jobFilter: j.data\n          });\n        } // this.setState({jobs:j.data})\n\n      }).catch(err => console.log(err));\n    };\n\n    this.onChangeInput = (event, {\n      newValue\n    }) => {\n      this.setState({\n        value: newValue,\n        todo: newValue\n      });\n    };\n\n    this.onSuggestionsFetchRequested = ({\n      value\n    }) => {\n      this.setState({\n        suggestions: this.getSuggestions(value)\n      });\n    };\n\n    this.onSuggestionsClearRequested = () => {\n      this.setState({\n        suggestions: []\n      });\n    };\n\n    this.getSuggestions = value => {\n      const inputValue = value.trim().toLowerCase();\n      const inputLength = inputValue.length;\n      return inputLength === 0 ? [] : this.state.tech.filter(tech => tech.toLowerCase().slice(0, inputLength) === inputValue);\n    };\n\n    this.getSuggestionValue = suggestion => suggestion;\n\n    this.renderSuggestion = suggestion => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, suggestion);\n\n    this.add = async event => {\n      event.preventDefault();\n      await this.setState({\n        id: this.state.id + 1,\n        todos: [...this.state.todos, {\n          id: this.state.id,\n          text: this.state.todo || '-'\n        }],\n        todo: ''\n      });\n      var filteredJobs = [];\n      this.state.jobs.forEach(item => {\n        this.state.todos.some(val => {\n          if (item.technologies.indexOf(val.text) !== -1) {\n            if (!filteredJobs.includes(item)) {\n              filteredJobs.push(item);\n            }\n          }\n        });\n      });\n\n      if (this.state.jobBudgets.length > 0) {\n        if (this.state.jobBudgets !== this.state.jobs) filteredJobs = filteredJobs.filter(value => this.state.jobBudgets.includes(value));\n      }\n\n      this.setState({\n        jobFilter: filteredJobs,\n        jobSkill: filteredJobs\n      });\n    };\n\n    this.remove = async event => {\n      await this.setState({\n        todos: this.state.todos.filter(item => item.id !== +event.currentTarget.getAttribute('data-id'))\n      });\n\n      if (this.state.todos.length > 0) {\n        var filteredJobs = [];\n        this.state.jobs.forEach(item => {\n          this.state.todos.some(val => {\n            if (item.technologies.indexOf(val.text) !== -1) {\n              if (!filteredJobs.includes(item)) {\n                filteredJobs.push(item);\n              }\n            }\n          });\n        });\n        this.setState({\n          jobFilter: filteredJobs\n        });\n      } else {\n        this.setState({\n          jobFilter: this.state.jobs\n        });\n      }\n    };\n\n    this.pad = (n, width, z) => {\n      z = z || '0';\n      n = n + '';\n      return n.length >= width ? n : n + new Array(width - n.length + 1).join(z);\n    };\n\n    this.maxDigit = maxNum => {\n      var digits = maxNum.toString().length;\n      var divideBy = this.pad(1, digits);\n\n      if (maxNum % divideBy != 0) {\n        var roundedNum = Math.floor(maxNum / divideBy + 1) * divideBy;\n        return roundedNum;\n      } else {\n        return maxNum;\n      }\n    };\n\n    this.onChange = val => {\n      this.setState({\n        sliderHandlesVal: val\n      });\n      var temp = this.state.jobs.filter(item => {\n        if (val[0] <= item.budget && item.budget <= val[1]) {\n          return item;\n        }\n      });\n\n      if (this.state.jobSkill.length > 0) {\n        temp = temp.filter(value => this.state.jobSkill.includes(value));\n      }\n\n      this.setState({\n        jobFilter: temp,\n        jobBudgets: temp\n      });\n    };\n\n    this.showDetails = item => {\n      var showColContent = React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, item.title);\n      this.setState({\n        showColContent,\n        showCol: true,\n        currentJob: item\n      });\n    };\n\n    this.applyForJob = () => {\n      console.log(\"Apply for job\");\n      Axios.put(`${localhost}/job/addreq/${this.state.currentJob._id}`, {\n        requests: this.state.userID\n      }).then(result => {\n        alert(result.data);\n        console.log(result);\n        window.location.reload();\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      userID: localStorage.usertoken ? jwt_decode(localStorage.usertoken).user._id : null,\n      userRole: localStorage.usertoken ? jwt_decode(localStorage.usertoken).user.role : null,\n      showColContent: null,\n      showCol: false,\n      currentJob: null,\n      jobBudgets: [],\n      jobSkill: [],\n      domain: [],\n      jobs: [],\n      jobFilter: [],\n      sliderHandlesVal: [],\n      tech: [],\n      value: '',\n      suggestions: [],\n      todo: '',\n      todos: [].map((text, id) => ({\n        id,\n        text\n      }))\n    };\n    this.state.id = this.state.todos.length;\n  }\n\n  render() {\n    // console.log(this.state.userRole)\n    const _this$state = this.state,\n          value = _this$state.value,\n          suggestions = _this$state.suggestions; // Autosuggest will pass through all these props to the input.\n\n    const inputProps = {\n      placeholder: 'Type a programming language',\n      value,\n      onChange: this.onChangeInput\n    };\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Slide, {\n      top: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"textBackground\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Careers\"), React.createElement(\"div\", {\n      className: \"textCareer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Toptal is a marketplace for top developers, engineers, programmers, coders, architects, and consultants. Top companies and start-ups hire freelance developers from Toptal for their most mission-critical projects.  When you join The DDW Company, you are choosing to be a part of something far bigger than you can even imagine. TRSDC is pioneering the future of sustainable tourism, creating a new standard of sustainable luxury tourism and immersive experiences.\")))), React.createElement(\"div\", {\n      className: \"arroww\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"arrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }))), React.createElement(\"img\", {\n      className: \"imgBackground\",\n      style: {\n        height: \"100%\",\n        width: \"100%\"\n      },\n      src: Jobs,\n      alt: \"Portfolio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }), this.state.jobs.length > 0 && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 3,\n      className: \"filterStyle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Budget\"), this.state.sliderHandlesVal.length !== 0 && this.state.domain !== 0 && React.createElement(Slider, {\n      mode: 2,\n      step: 1,\n      domain: this.state.domain,\n      rootStyle: {\n        position: \"relative\",\n        width: \"100%\"\n      },\n      onUpdate: this.onUpdate,\n      onChange: this.onChange,\n      values: this.state.sliderHandlesVal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(Rail, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, ({\n      getRailProps\n    }) => React.createElement(SliderRail, {\n      getRailProps: getRailProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    })), React.createElement(Handles, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, ({\n      handles,\n      getHandleProps\n    }) => React.createElement(\"div\", {\n      className: \"slider-handles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, handles.map(handle => React.createElement(Handle, {\n      key: handle.id,\n      handle: handle,\n      domain: this.state.domain,\n      getHandleProps: getHandleProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })))), React.createElement(Tracks, {\n      left: false,\n      right: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, ({\n      tracks,\n      getTrackProps\n    }) => React.createElement(\"div\", {\n      className: \"slider-tracks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, tracks.map(({\n      id,\n      source,\n      target\n    }) => React.createElement(Track, {\n      key: id,\n      source: source,\n      target: target,\n      getTrackProps: getTrackProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    })))), React.createElement(Ticks, {\n      count: 5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, ({\n      ticks\n    }) => React.createElement(\"div\", {\n      className: \"slider-ticks\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, ticks.map(tick => React.createElement(Tick, {\n      key: tick.id,\n      tick: tick,\n      count: ticks.length,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \"Skills\"), this.state.tech.length > 0 && React.createElement(\"form\", {\n      onSubmit: this.add,\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(TransitionGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, this.state.todos.map(item => React.createElement(Fade, {\n      key: item.id,\n      collapse: true,\n      bottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, item.text, React.createElement(\"button\", {\n      \"data-id\": item.id,\n      onClick: this.remove,\n      type: \"button\",\n      className: \"close\",\n      \"aria-label\": \"Close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, \"\\xD7\")))))))), React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(Autosuggest, {\n      style: {\n        background: \"red\"\n      },\n      type: \"text\",\n      id: \"todoField\",\n      name: \"todo\",\n      suggestions: suggestions,\n      onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n      onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n      getSuggestionValue: this.getSuggestionValue,\n      renderSuggestion: this.renderSuggestion,\n      inputProps: inputProps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-group-append buttonThing \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.add,\n      className: \"btn btn-light\",\n      type: \"button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \" Add Item\"))))), React.createElement(Col, {\n      className: \"cardJob\",\n      md: this.state.showCol ? 5 : 7,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, this.state.jobFilter.map(item => {\n      return React.createElement(JCards, {\n        data: item,\n        showDetails: this.showDetails,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      });\n    })), this.state.showCol !== false && this.state.currentJob != null && React.createElement(Col, {\n      md: 3,\n      className: \"applyCard\",\n      style: {\n        height: \"30%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, React.createElement(Fade, {\n      left: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }, this.state.currentJob.title), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372\n      },\n      __self: this\n    }, this.state.currentJob.requests[0], \" JOBS REQ\"), console.log(this.state.currentJob.dev_id), console.log(this.state.userID), this.state.userRole == 1 && this.state.currentJob.dev_id != this.state.userID && !this.state.currentJob.requests.includes(this.state.userID) && React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.applyForJob,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378\n      },\n      __self: this\n    }, \"Apply\"), this.state.userRole == 1 && this.state.currentJob.requests && this.state.currentJob.requests.includes(this.state.userID) && React.createElement(Button, {\n      variant: \"primary\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    }, \"Already applied\"), this.state.currentJob.dev_id == this.state.userID && React.createElement(Button, {\n      variant: \"primary\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386\n      },\n      __self: this\n    }, \"Already applied\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/macbook/Desktop/frontend-1/src/JobsComponents/JobsList.jsx"],"names":["React","Component","JCards","TransitionGroup","Autosuggest","Fade","Slide","Col","Row","Container","Button","Slider","Rail","Handles","Tracks","Ticks","SliderRail","Handle","Track","Tick","Jobs","jwt_decode","Axios","localhost","JobsList","constructor","props","componentDidMount","get","then","j","console","log","data","length","technologies","forEach","item","map","tech","includes","push","max_val","Math","max","apply","budget","maxNum","maxDigit","domain","defaultValues","setState","sliderHandlesVal","jobs","jobFilter","catch","err","onChangeInput","event","newValue","value","todo","onSuggestionsFetchRequested","suggestions","getSuggestions","onSuggestionsClearRequested","inputValue","trim","toLowerCase","inputLength","state","filter","slice","getSuggestionValue","suggestion","renderSuggestion","add","preventDefault","id","todos","text","filteredJobs","some","val","indexOf","jobBudgets","jobSkill","remove","currentTarget","getAttribute","pad","n","width","z","Array","join","digits","toString","divideBy","roundedNum","floor","onChange","temp","showDetails","showColContent","title","showCol","currentJob","applyForJob","put","_id","requests","userID","result","alert","window","location","reload","localStorage","usertoken","user","userRole","role","render","inputProps","placeholder","height","position","onUpdate","getRailProps","handles","getHandleProps","handle","tracks","getTrackProps","source","target","ticks","tick","background","dev_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport JCards from \"./JobsCards\"\nimport TransitionGroup from 'react-transition-group/TransitionGroup';\nimport Autosuggest from 'react-autosuggest';\nimport Fade from 'react-reveal/Fade';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './jobs.css'\nimport Slide from 'react-reveal/Slide';\nimport { Col, Row, Container, Button } from 'react-bootstrap';\nimport { Slider, Rail, Handles, Tracks, Ticks } from \"react-compound-slider\";\nimport { SliderRail, Handle, Track, Tick } from \"./SliderComponent\";\nimport Jobs from \"../Images/jobs.png\"\nimport jwt_decode from 'jwt-decode'\nimport Axios from 'axios';\nimport { localhost } from \"../GlobalVars\"\n\nexport default class JobsList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            userID:(localStorage.usertoken?jwt_decode(localStorage.usertoken).user._id:null),\n            userRole:(localStorage.usertoken?jwt_decode(localStorage.usertoken).user.role:null), \n            showColContent: null,\n            showCol: false,\n            currentJob: null,\n            jobBudgets: [],\n            jobSkill: [],\n            domain: [],\n            jobs: [],\n            jobFilter: [],\n            sliderHandlesVal: [],\n            tech: [],\n            value: '',\n            suggestions: [],\n            todo: '',\n            todos: [ ].map((text, id) => ({ id, text })),\n        };\n        this.state.id = this.state.todos.length;\n    }\n\n    componentDidMount = () => {\n\n        Axios.get(`${localhost}/job`)\n            .then(j => {\n                console.log(\"JOBSSS DATA\")\n                console.log(j.data)\n                if(j.data.length>0){\n                var technologies = []\n\n                j.data.forEach(item => {\n                    console.log(item)\n                    item.technologies.map(tech => {\n                        if (!technologies.includes(tech)) \n                        { technologies.push(tech) }\n                    })\n                })\n\n                var max_val = Math.max.apply(Math, j.data.map(item => {\n                    return item.budget\n                }))\n                // var max_val = Math.max(5, 10, 20, 1100) //Math.max(...this.state.budgets)\n                var maxNum = this.maxDigit(max_val)\n                var domain = [0, maxNum];\n\n                const defaultValues = [0, maxNum];\n\n                // var userID = \"\"\n                // var userRole = \"\"\n                // if(localStorage.usertoken){\n                //     userID = jwt_decode(localStorage.usertoken).user._id\n                //     userRole = jwt_decode(localStorage.usertoken).user.role\n                // }\n                // console.log(localStorage.usertoken)\n                // userRole:userRole,userID:userID,\n\n                this.setState({ tech: technologies, sliderHandlesVal: defaultValues, domain: domain, jobs: j.data,jobFilter:j.data })\n            }// this.setState({jobs:j.data})\n            })\n            .catch(err => console.log(err))\n\n\n    }\n\n    //auto suggestion + filtering functions\n    onChangeInput = (event, { newValue }) => { this.setState({ value: newValue, todo: newValue }); };\n\n    onSuggestionsFetchRequested = ({ value }) => { this.setState({ suggestions: this.getSuggestions(value) }); };\n\n    onSuggestionsClearRequested = () => { this.setState({ suggestions: [] }); };\n\n    getSuggestions = value => {\n        const inputValue = value.trim().toLowerCase();\n        const inputLength = inputValue.length;\n\n        return inputLength === 0 ? [] : this.state.tech.filter(tech => tech.toLowerCase().slice(0, inputLength) === inputValue\n        );\n    };\n\n    getSuggestionValue = suggestion => suggestion;\n\n    renderSuggestion = suggestion => (<div>{suggestion}</div>);\n\n    add = async (event) => {\n        event.preventDefault();\n        await this.setState({\n            id: this.state.id + 1,\n            todos: [\n                ...this.state.todos,\n                { id: this.state.id, text: this.state.todo || '-' }\n            ],\n            todo: '',\n        });\n\n        var filteredJobs = []\n        this.state.jobs.forEach(item => {\n            this.state.todos.some(val => {\n                if (item.technologies.indexOf(val.text) !== -1) {\n                    if (!filteredJobs.includes(item)) {\n                        filteredJobs.push(item)\n                    }\n                }\n            })\n        })\n\n        if (this.state.jobBudgets.length > 0) {\n            if (this.state.jobBudgets !== this.state.jobs)\n                filteredJobs = filteredJobs.filter(value => this.state.jobBudgets.includes(value))\n        }\n        this.setState({ jobFilter: filteredJobs, jobSkill: filteredJobs })\n    }\n\n    remove = async (event) => {\n        await this.setState({\n            todos: this.state.todos.filter(item =>\n                item.id !== +event.currentTarget.getAttribute('data-id')\n            )\n        });\n\n        if (this.state.todos.length > 0) {\n            var filteredJobs = []\n            this.state.jobs.forEach(item => {\n                this.state.todos.some(val => {\n                    if (item.technologies.indexOf(val.text) !== -1) {\n                        if (!filteredJobs.includes(item)) {\n                            filteredJobs.push(item)\n                        }\n                    }\n                })\n            })\n            this.setState({ jobFilter: filteredJobs })\n        } else {\n            this.setState({ jobFilter: this.state.jobs })\n        }\n    }\n\n\n    //slider range functions\n    pad = (n, width, z) => {\n        z = z || '0';\n        n = n + '';\n        return n.length >= width ? n : n + new Array(width - n.length + 1).join(z);\n    }\n\n    maxDigit = (maxNum) => {\n        var digits = maxNum.toString().length\n        var divideBy = this.pad(1, digits)\n\n        if (maxNum % divideBy != 0) {\n            var roundedNum = Math.floor((maxNum / divideBy) + 1) * divideBy\n            return roundedNum\n        } else {\n            return maxNum\n        }\n\n    }\n\n    onChange = (val) => {\n        this.setState({ sliderHandlesVal: val })\n        var temp = this.state.jobs.filter(item => {\n            if (val[0] <= item.budget && item.budget <= val[1]) {\n                return item\n            }\n        })\n\n        if (this.state.jobSkill.length > 0) {\n            temp = temp.filter(value => this.state.jobSkill.includes(value))\n        }\n\n        this.setState({ jobFilter: temp, jobBudgets: temp })\n    }\n\n    ///show the details column\n    showDetails = (item) => {\n        var showColContent = <p>{item.title}</p>\n        this.setState({ showColContent, showCol: true, currentJob: item })\n    }\n\n    //apply for the job\n    applyForJob = () => {\n        console.log(\"Apply for job\")\n        Axios.put(`${localhost}/job/addreq/${this.state.currentJob._id}`,{requests:this.state.userID})\n        .then(result=>{\n            alert(result.data)\n            console.log(result)\n            window.location.reload()\n        })\n        .catch(err=>console.log(err))\n\n    }\n\n    render() {\n        // console.log(this.state.userRole)\n        const { value, suggestions } = this.state;\n\n        // Autosuggest will pass through all these props to the input.\n        const inputProps = {\n            placeholder: 'Type a programming language',\n            value,\n            onChange: this.onChangeInput\n        };\n\n        return (\n \n    <Container> \n    <div>\n        <Slide top>\n          <h1 className=\"textBackground\" >Careers</h1>\n         <div className=\"textCareer\">\n        <p>Toptal is a marketplace for top developers, engineers, programmers, coders, architects, and consultants.\n        Top companies and start-ups hire freelance developers from Toptal for their most mission-critical projects.  When you join The DDW Company, you are choosing to be a part of something far bigger than you can even imagine. TRSDC is pioneering the future of sustainable tourism, creating a new standard of sustainable luxury tourism and immersive experiences.</p>\n         </div>\n        </Slide>\n      </div>\n\n      <div className =\"arroww\">\n      <div className=\"arrow\">\n                <span></span>\n                <span></span> \n      </div>\n      </div>\n\n     <img  className=\"imgBackground\" style={{ height: \"100%\" , width: \"100%\" }} src={Jobs} alt=\"Portfolio\" /> \n                \n                {this.state.jobs.length>0 && \n                <Row >\n                    {/* Filter column */}\n                    <Col md={3} className=\"filterStyle\"  >\n                        <br />\n                        <h4>Budget</h4>\n\n                        {/* Slider code */}\n                        {this.state.sliderHandlesVal.length !== 0 &&\n                            this.state.domain !== 0 &&\n                            <Slider\n                                mode={2}\n                                step={1}\n                                domain={this.state.domain}\n                                rootStyle={{\n                                    position: \"relative\",\n                                    width: \"100%\"\n                                }}\n                                onUpdate={this.onUpdate}\n                                onChange={this.onChange}\n                                values={this.state.sliderHandlesVal}>\n                                <Rail>\n                                    {({ getRailProps }) => <SliderRail getRailProps={getRailProps} />}\n                                </Rail>\n                                <Handles>\n                                    {({ handles, getHandleProps }) => (\n                                        <div className=\"slider-handles\">\n                                            {handles.map(handle => (\n                                                <Handle\n                                                    key={handle.id}\n                                                    handle={handle}\n                                                    domain={this.state.domain}\n                                                    getHandleProps={getHandleProps}\n                                                />\n                                            ))}\n                                        </div>\n                                    )}\n                                </Handles>\n                                <Tracks left={false} right={false}>\n                                    {({ tracks, getTrackProps }) => (\n                                        <div className=\"slider-tracks\">\n                                            {tracks.map(({ id, source, target }) => (\n                                                <Track\n                                                    key={id}\n                                                    source={source}\n                                                    target={target}\n                                                    getTrackProps={getTrackProps}\n                                                />\n                                            ))}\n                                        </div>\n                                    )}\n                                </Tracks>\n                                <Ticks count={5}>\n                                    {({ ticks }) => (\n                                        <div className=\"slider-ticks\">\n                                            {ticks.map(tick => (\n                                                <Tick key={tick.id} tick={tick} count={ticks.length} />\n                                            ))}\n                                        </div>\n                                    )}\n                                </Ticks>\n                            </Slider>}\n                        <br />\n                        <br />\n\n                        {/* auto suggetion and animated filter cards code */}\n                        <h4>Skills</h4>\n                        {this.state.tech.length > 0 &&\n                            <form onSubmit={this.add} autoComplete=\"off\">\n                                <div className=\"col-12 mb-2\">\n                                    <TransitionGroup>\n                                        {this.state.todos.map((item) =>\n                                            <Fade key={item.id} collapse bottom>\n                                                <div className=\"card\">\n                                                    <div className=\"card-body justify-content-between\">\n                                                        {item.text}\n                                                        <button\n                                                            data-id={item.id}\n                                                            onClick={this.remove}\n                                                            type=\"button\"\n                                                            className=\"close\"\n                                                            aria-label=\"Close\">\n\n                                                            <span aria-hidden=\"true\">&times;</span>\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                            </Fade>\n                                        )}\n                                    </TransitionGroup>\n                                </div>\n                                <Row>\n                                    <Autosuggest\n                                        style={{ background: \"red\" }}\n                                        type=\"text\"\n                                        id=\"todoField\"\n                                        name=\"todo\"\n                                        suggestions={suggestions}\n                                        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n                                        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n                                        getSuggestionValue={this.getSuggestionValue}\n                                        renderSuggestion={this.renderSuggestion}\n                                        inputProps={inputProps} />\n\n                                    <div className=\"input-group-append buttonThing \">\n                                        <button onClick={this.add} className=\"btn btn-light\" type=\"button\"> Add Item</button>\n                                    </div>\n                                </Row>\n                            </form>}\n                    </Col>\n\n\n                    {/* Cards column */}\n                    <Col className=\"cardJob\" md={this.state.showCol ? 5 : 7} >\n                        {this.state.jobFilter.map(item => {\n                            return <JCards data={item} showDetails={this.showDetails} />\n                        })}\n                    </Col>\n\n\n                    {/* detail column */}\n                    {this.state.showCol !== false && this.state.currentJob != null &&\n                        <Col md={3} className=\"applyCard\" style={{ height: \"30%\" }}>\n                            <Fade left>\n                                <div >\n                                    {/* {this.state.showColContent} */}\n                                    <p>{this.state.currentJob.title}</p>\n                                    <p>{this.state.currentJob.requests[0]} JOBS REQ</p>\n                                    {console.log(this.state.currentJob.dev_id)}\n                                    {console.log(this.state.userID)}\n                                    {this.state.userRole == 1 &&\n                                        this.state.currentJob.dev_id != this.state.userID &&\n                                        !this.state.currentJob.requests.includes(this.state.userID) &&\n                                        <Button variant=\"primary\" onClick={this.applyForJob}>Apply</Button>}\n\n                                    { this.state.userRole == 1 &&\n                                        this.state.currentJob.requests &&\n                                        this.state.currentJob.requests.includes(this.state.userID) &&\n                                        <Button variant=\"primary\" disabled >Already applied</Button>}\n\n                                        {this.state.currentJob.dev_id == this.state.userID &&\n                                        <Button variant=\"primary\" disabled >Already applied</Button>\n                                        }\n\n                                </div>\n                            </Fade>\n                        </Col>}\n                </Row>}\n            </Container>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}