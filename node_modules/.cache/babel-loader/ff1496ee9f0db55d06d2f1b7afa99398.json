{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/Node-backend/frontend-1/src/Developer_dash/Editprofile.jsx\";\nimport React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBInput } from \"mdbreact\";\nimport { useFormik } from \"formik\";\nimport { localhost } from \"../GlobalVars\";\n\nconst validate = values => {\n  const errors = {};\n\n  if (!values.firstname) {\n    errors.password = \"Required\";\n  }\n\n  if (!values.lastname) {\n    errors.password = \"Required\";\n  }\n\n  if (!values.username) {\n    errors.username = \"Required\";\n  }\n\n  return errors;\n};\n\nconst EditForm = () => {\n  const formik = useFormik({\n    initialValues: {\n      firstname: jwt_decode(localStorage.usertoken).user.firstname,\n      lastname: jwt_decode(localStorage.usertoken).user.lastname,\n      username: jwt_decode(localStorage.usertoken).user.username,\n      user: jwt_decode(localStorage.usertoken).user\n    },\n    validate,\n    onSubmit: async values => {\n      var uUser = {\n        firstname: values.firstname,\n        lastname: values.lastname,\n        username: values.username\n      };\n      axios.put(`${localhost}/user/changedetails/${formik.values.user._id}`, uUser).then(res => {\n        if (res.data.msg === \"2\") {\n          alert(\"Successfully Updated\");\n          axios.post(`${localhost}/user/edit/token`, res.data.user).then(fes => {\n            localStorage.setItem(\"usertoken\", fes.data);\n            window.location.reload();\n          });\n        } else {\n          alert(\"Username already taken\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  });\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(MDBContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(MDBRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(MDBCol, {\n    md: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(MDBInput, {\n    label: \"First name\",\n    id: \"firstname\",\n    name: \"firstname\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    value: formik.values.firstname,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), formik.touched.firstname && formik.errors.firstname ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, formik.errors.firstname) : null, React.createElement(MDBInput, {\n    label: \"Last name\",\n    id: \"lastname\",\n    name: \"lastname\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    value: formik.values.lastname,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), formik.touched.lastname && formik.errors.lastname ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, formik.errors.lastname) : null, React.createElement(MDBInput, {\n    label: \"Username\",\n    id: \"username\",\n    name: \"username\",\n    type: \"text\",\n    onChange: formik.handleChange,\n    onBlur: formik.handleBlur,\n    value: formik.values.username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), formik.touched.username && formik.errors.username ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, formik.errors.username) : null, React.createElement(MDBBtn, {\n    id: \"btn-primary\",\n    color: \"primary\",\n    href: \"/changepassword\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Change password\"), React.createElement(MDBBtn, {\n    id: \"btn-primary\",\n    type: \"submit\",\n    color: \"primary\",\n    onClick: formik.handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Submit\"))))));\n};\n\nexport default EditForm;","map":{"version":3,"sources":["/Users/macbook/Desktop/Node-backend/frontend-1/src/Developer_dash/Editprofile.jsx"],"names":["React","jwt_decode","axios","MDBContainer","MDBRow","MDBCol","MDBBtn","MDBInput","useFormik","localhost","validate","values","errors","firstname","password","lastname","username","EditForm","formik","initialValues","localStorage","usertoken","user","onSubmit","uUser","put","_id","then","res","data","msg","alert","post","fes","setItem","window","location","reload","catch","err","console","log","handleChange","handleBlur","touched","handleSubmit"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport jwt_decode from \"jwt-decode\";\nimport axios from \"axios\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn, MDBInput } from \"mdbreact\";\nimport { useFormik } from \"formik\";\nimport { localhost } from \"../GlobalVars\";\n\nconst validate = values => {\n  const errors = {};\n  if (!values.firstname) {\n    errors.password = \"Required\";\n  }\n\n  if (!values.lastname) {\n    errors.password = \"Required\";\n  }\n\n  if (!values.username) {\n    errors.username = \"Required\";\n  }\n  return errors;\n};\n\nconst EditForm = () => {\n  const formik = useFormik({\n    initialValues: {\n      firstname: jwt_decode(localStorage.usertoken).user.firstname,\n      lastname: jwt_decode(localStorage.usertoken).user.lastname,\n      username: jwt_decode(localStorage.usertoken).user.username,\n      user: jwt_decode(localStorage.usertoken).user\n    },\n    validate,\n    onSubmit: async values => {\n      var uUser = {\n        firstname: values.firstname,\n        lastname: values.lastname,\n        username: values.username\n      };\n\n      axios\n        .put(`${localhost}/user/changedetails/${formik.values.user._id}`, uUser)\n        .then(res => {\n          if (res.data.msg === \"2\") {\n            alert(\"Successfully Updated\");\n            axios\n              .post(`${localhost}/user/edit/token`, res.data.user)\n              .then(fes => {\n                localStorage.setItem(\"usertoken\", fes.data);\n                window.location.reload();\n              });\n          } else {\n            alert(\"Username already taken\");\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  });\n  return (\n    <div>\n      <MDBContainer>\n        <MDBRow>\n          <MDBCol md=\"6\">\n            <form>\n              <MDBInput\n                label=\"First name\"\n                id=\"firstname\"\n                name=\"firstname\"\n                type=\"text\"\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.firstname}\n              />\n              {formik.touched.firstname && formik.errors.firstname ? (\n                <div>{formik.errors.firstname}</div>\n              ) : null}\n              <MDBInput\n                label=\"Last name\"\n                id=\"lastname\"\n                name=\"lastname\"\n                type=\"text\"\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.lastname}\n              />\n              {formik.touched.lastname && formik.errors.lastname ? (\n                <div>{formik.errors.lastname}</div>\n              ) : null}\n              <MDBInput\n                label=\"Username\"\n                id=\"username\"\n                name=\"username\"\n                type=\"text\"\n                onChange={formik.handleChange}\n                onBlur={formik.handleBlur}\n                value={formik.values.username}\n              />\n              {formik.touched.username && formik.errors.username ? (\n                <div>{formik.errors.username}</div>\n              ) : null}\n              <MDBBtn id=\"btn-primary\" color=\"primary\" href=\"/changepassword\">\n                Change password\n              </MDBBtn>\n              <MDBBtn\n                id=\"btn-primary\"\n                type=\"submit\"\n                color=\"primary\"\n                onClick={formik.handleSubmit}\n              >\n                Submit\n              </MDBBtn>\n            </form>\n          </MDBCol>\n        </MDBRow>\n      </MDBContainer>\n    </div>\n  );\n};\n\nexport default EditForm;\n"]},"metadata":{},"sourceType":"module"}